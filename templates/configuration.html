<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Switch Management Configuration - Dashboard</title>
        
        <!-- Main Styles -->
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='create_config_page.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='Modal_loading.css') }}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
        <!-- Select2 Styles -->
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    
        <!-- jQuery (Required for Select2) -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
        <!-- Select2 Script -->
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8/jquery.inputmask.min.js"></script>

    </head>
<body>
    <!-- Sidebar -->
    {% include 'sidebar.html' %}

    <!-- Main Content -->
    <div class="content">
        <div class="content-header">
            <h2>
                <i class="fas fa-cogs" style="color: #1E90FF;"></i> Create Template
            </h2>  
        </div>

        <!-- Template Information -->
        <div class="config-section" id="template-information-config">
            <h3>Template Information</h3>
            <form class="template-config-form">
                <!-- Template Name -->  
                <div class="form-group">
                    <label for="template-name">Template Name</label>
                    <input type="text" id="template-name" name="template-name" placeholder="Enter Template Name" required>
                    <label for="template-description">Description</label>
                    <textarea id="template-description" name="template-description" placeholder="Enter Template Description" rows="3" required></textarea>
                </div>
            </form>
        </div>


        <!-- Hostname Configuration -->
        <div class="config-section">
            <h3>Hostname Configuration</h3>
            <form id="hostname-form" class="hostname-forms-config">
                <div class="form-group">
                    <label for="hostname-input">Hostname</label>
                    <input type="text" id="hostname-input" placeholder="Enter Hostname" required >
                    <div class="alert-box error" id="hostname-error" style="display: none;">
                        <span>ERROR: </span> Hostname can only contain English letters, numbers, and special characters except "?". 
                        Spaces are not allowed.
                    </div>
                </div>
            </form>
        </div>
        
        <!-- Create VLANs -->
        <div class="config-section vlan-config-section" id="create-vlan-multiple">
            <h3>Create VLANs</h3>
            <button type="button" id="add-vlan-row" class="styled-button vlan-add-button">Add VLAN</button>
            <br><br>
            <div id="vlans-configs" class="vlan-configs-container">
                <!-- VLAN configurations will be dynamically added here -->
            </div>
        </div>

        <!-- Global STP Configuration Section -->
        <div class="config-section">
            <h3>Spanning Tree Protocol Configuration</h3>
            <form class="stp-config-form">
                <!-- STP Mode Selection -->
                <div class="stp-input-form-group">
                    <label for="stp-mode">STP Mode</label>
                    <select id="stp-mode" name="stp-mode">
                        <option value="" style="text-align: center;" selected>Select STP Mode ( Default )</option>
                        <option value="pvst">PVST (Per VLAN Spanning Tree)</option>
                        <option value="rapid-pvst">Rapid-PVST</option>
                        <option value="mst">MST (Multiple Spanning Tree)</option>
                    </select>
                </div>

                <div id="mst-config-container">
                    <!-- JavaScript dynamically adds MST configurations here -->
                </div>

        
                <!-- Toggle Table for STP Features -->
                <table class="stp-table">
                    <tr>
                        <th>Toggle</th>
                        <th>Feature</th>
                    </tr>
                    <tr>
                        <td>
                            <label class="switch">
                                <input type="checkbox" id="bpdu-guard-toggle">
                                <span class="slider"></span>
                            </label>
                        </td>
                        <td>BPDU Guard</td>
                    </tr>
                    <tr>
                        <td>
                            <label class="switch">
                                <input type="checkbox" id="bpdu-filtering-toggle">
                                <span class="slider"></span>
                            </label>
                        </td>
                        <td>BPDU Filtering</td>
                    </tr>
                    <tr>
                        <td>
                            <label class="switch">
                                <input type="checkbox" id="loop-guard-toggle">
                                <span class="slider"></span>
                            </label>
                        </td>
                        <td>Loop-Guard</td>
                    </tr>
                    <tr>
                        <td>
                            <label class="switch">
                                <input type="checkbox" id="portfast-default-toggle">
                                <span class="slider"></span>
                            </label>
                        </td>
                        <td>Portfast ( Default )</td>
                    </tr>
                </table>
                <br>
            </form>
        </div>

        <!-- Link Aggregation -->
        <div class="config-section" id="link-aggregation-config">
            <h3>Link Aggregation Configuration</h3>
            <button type="button" id="add-aggregation-config" class="styled-button">Add Aggregation Configuration</button>
            <br><br>
            <div id="aggregation-configs">
                <!-- Dynamic Aggregation Configurations will be added here -->
            </div>
        </div>

        <!-- VTP Configuration Section -->
        <div class="config-section" id="vtp-config">
            <h3>VTP (VLAN Trunking Protocol) Configuration</h3>
            <form id="vtp-form">
                <!-- VTP Mode -->
                <div class="vtp-form-group">
                    <label for="vtp-mode">VTP Mode</label>
                    <select id="vtp-mode" name="vtp-mode">
                        <option value="" selected style="text-align: center;">Select VTP Mode ( Default )</option>
                        <option value="server">Server</option>
                        <option value="client">Client</option>
                        <option value="transparent">Transparent</option>
                    </select>
                    <label for="vtp-version">VTP Version</label>
                    <select id="vtp-version" name="vtp-version">
                        <option value="" selected style="text-align: center;">Select VTP Version ( Default )</option>
                        <option value="1">Version 1</option>
                        <option value="2">Version 2</option>
                        <option value="3">Version 3</option>
                    </select>
                    <label for="vtp-domain">VTP Domain Name</label>
                    <input type="text" id="vtp-domain" name="vtp-domain" placeholder="Enter VTP Domain Name" required>
                    <label for="vtp-password">VTP Password</label>
                    <input type="text" id="vtp-password" name="vtp-password" placeholder="Enter VTP Password" required>
                </div>
            </form>
        </div>

        <!-- Interface Ports -->
        <div class="config-section" id="interface-ports-config">
            <h3>Interface Port Configuration</h3>

            <button type="button" id="add-interface-config" class="styled-button">Add Interface Configuration</button>
            <br><br>

            <div id="interface-configs">
                <!-- Dynamic Interface Configurations will be added here -->
            </div>

        </div>

        <!-- Port-Security -->
        <div class="config-section" id="port-security-config">
            <h3>Port-Security Configuration</h3>
            <button type="button" id="add-port-security-config" class="styled-button">Add Port-Security Configuration</button>
            <br><br>
            <div id="port-security-configs">
                <!-- Dynamic Port-Security Configurations will be added here -->
            </div>
        </div>

        <!-- NTP Configuration Section -->
        <div class="config-section">
            <h3>NTP Configuration</h3>
            <form id="ntp-config-form">
                <div class="ntp-form-group">
                    <label for="ntp-server">NTP Server</label>
                    <input
                        type="text"
                        class="form-input"
                        id="ntp-server"
                        name="ntp-server"
                        placeholder="___.___.___.___ (e.g., 202.44.204.114)"
                    />
                    <label for="clock-timezone">Clock Timezone</label>
                    <select id="clock-timezone" name="clock-timezone" required>
                        <!-- Options filled dynamically via JavaScript -->
                    </select>
                    <!-- Clock Set -->
                    <label for="clock-set">Clock Set</label>
                    <div class="clock-set-container">
                        <input type="time" id="clock-set-time" name="clock-set-time" required>

                        <select id="clock-set-day" name="clock-set-day" required>
                            <!-- Day options will be populated by JavaScript -->
                        </select>
                        <select id="clock-set-month" name="clock-set-month" required>
                            <option value="Jan">January</option>
                            <option value="Feb">February</option>
                            <option value="Mar">March</option>
                            <option value="Apr">April</option>
                            <option value="May">May</option>
                            <option value="Jun">June</option>
                            <option value="Jul">July</option>
                            <option value="Aug">August</option>
                            <option value="Sep">September</option>
                            <option value="Oct">October</option>
                            <option value="Nov">November</option>
                            <option value="Dec">December</option>
                        </select>
                        <select id="clock-set-year" name="clock-set-year" required>
                            <!-- Year options will be populated by JavaScript -->
                        </select>
                    </div>
                </div>
            </form>
        </div>

        <div class="config-section" id="default-gateway-config">
            <h3>Default Gateway Configuration</h3>
            <form id="default-gateway-form">
                <div class="default-gateway-form-group">
                    <label for="default-gateway">Default Gateway</label>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="default-gateway" 
                        name="default-gateway" 
                        placeholder="___.___.___.___ (e.g., 127.0.0.1)" 
                    />
                </div>
            </form>
        </div>


        <div class="save-config-container">
            <button id="save-config-templates" class="styled2-button">
                <i class="fa-solid fa-file-arrow-down"></i> Save Config Templates
            </button>
        </div>
    </div>

    <!-- Modal Preview Template -->
    <div id="preview-configuration-template" class="preview-modal">
        <div class="preview-modal-content">
            <h2 class="preview-modal-header">Preview Configuration</h2>
            <div id="preview-configuration-content" class="preview-modal-content-body cli-style">
                <!-- Configuration details will be injected here dynamically -->
            </div>
            <div class="preview-modal-footer">
                <button id="download-config" class="preview-modal-button-download">Download</button>
                <button onclick="closeModal()" class="preview-modal-button-close"">Close</button>
            </div>
        </div>
    </div>

     <script src="../static/js/create_config.js"></script>
</body>
</html>